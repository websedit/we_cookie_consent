# Changelog
All notable changes to this project will be documented in this file.
The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),

## [2.3.6] - 2024-06-04 - RL
### Fixed
- Added if-condition in ConsentController.js line 111 for checking if dataLayer is initialised. Issue: #42

## [2.3.5] - 2024-04-24 - RL
### Fixed
- Added if-loop in ConsentController.js for the evaluation of Google Tag Manager Services
### Added
- Added !default to scss variables to override them. Thank's to RazielleS and dmitryd. Issue: #36 and #40

## [2.3.4] - 2024-04-22 - AS
### Fixed
- Changed Version number in ext_emconf

## [2.3.3] - 2024-04-22 - AS
### Fixed
- Added missing comma in TCA. Fixes the problem where categories are shown in the wrong tab in the service data record.

## [2.3.2] - 2024-04-03 - RL
### Fixed
- Change consentcontroller.js to write consent settings to the cookie only for Google-relevant services
- Removed double initialization of the array consenTypeObj

## [2.3.1] - 2024-04-03 - RL
### Added
- Added Google Consent Mode basic and advanced - to set default consent types (Beta)
- Added Google Consent Mode defaults-tab to Google Analytics services
- Added Google Consent Mode defaults-tab to Google Tag Manager services

## [2.2.1] - 2022-06-23 - GF
### Added - 2022-06-23
- Attribute data-nosnippet="data-nosnippet" to .cn-body (Avoids Google bot to crawl cookie-consent text)

### Added - 2022-05-17
- Detection Safari browser (function.js) - GF
- Adjust positioning button group in Safari (_cookie-modal.scss) - GF

## [2.2.0] - 2022-05-03 - GF, AS, RL
### Added - 2022-05-03
- Added event for deny consent state - RL
- Update matomo JS-Code - RL
### Added - 2022-02-25 - GF
- Generalized the scope of positioning videoOverlay to frame-type-media and frame-type-textmedia

## [2.1.0] - 2021-01-12 - GF, AS, RL
### Added - 2022-01-12 - AS
- EscapeViewHelper: Adjustments for TYPO3 v7 compatibility
- we_cookie_consent/Resources/Private/Partials/Klaro/Service.html: Adjustments for TYPO3 v7 compatibility
### Added - 2021-09-22
- Added max. width of Buttons in Settings Layer.
### Changed - 2021-11-10 - RL, AS
- Added YouTube and Vimeo Service
### Added - 2021-11-12 - GF
- Additional CSS for video via iframe
### Added - 2021-11-15 - GF
- Additional CSS/JS for videos via small iframe < 300px width
### Added - 2021-11-16 - GF
- _base.scss: Additional color definitions for Icons in Layer 2 (.cookie-modal) and update _cookie-notice.scss/_cookie-modal.scss
### Removed
- Removed debug output in JavaScript
### Changed - 2021-10-13 - GF, RL
- Optimizing SCSS-Code: removing redundant vars, moving static values into new vars and replacing old vars
### Changed - 2021-11-17 - GF
- Moved basics SCSS definitions from styles.scss to _base.scss,
- Simplifying implementation and adjustment of variables for individual project
### Changed - 2021-11-20 - RL
- Added Google Consent Mode (Alpha)
### Added - 2021-11-25 - GF
- SCSS: Additional property for icon:hover; add in cookie-modal/-notice.
- SCSS: Additional variables in _base.scss; transfer new variables in all affected scss files.
### Added - 2021-12-16 - GF
- Correct ineffective display:none for .cm-toggle-all checkbox.
- Delete redundant/double display:none for cm-toggle-all checkbox.
### Added - 2022-01-13 - GF
- Align width of videoOverlay with iframe of external Videos (Youtube/Vimeo) in Controller.js

## [2.0.1] - 2021-09-21 - AS, GF
### Added
- Icons for Buttons
- SCSS: Implement icons on most buttons (in both layers). Some redesign (visible borders with round corners). Most buttons (but one) are now transparent). Postioning the new styles at the end of SCSS Source.
### Fixed
- Some typos/redundant spaces/lines in SCSS


## [2.0.0] - 2021-02-10 - ES
### Added
- Contextual Consent
- Use HTML in text
- Support for TYPO3 11. Issue: #9
- 'No Style' Template. Issue: #11
- SCSS files. Issue: #13
- Fallback function for backwards compatibility < 1.3.3
- Escape Viewhelper for special characters. Thank's to cwiesenekker. Issue: #14
### Changed
- Update the klaro library from 0.4.28 to 0.7.16. Issue: #11
- Locallang labeles to sprintf syntax
- Renamed App.html partial to Service.html
### Fixed
- Added trim around service description. Issue: #5
- Optimized the CSS
- Some typos in comments
### Removed
- Workarounds in JS
- Language parameter in TypoScript

## [1.3.3] - 2020-09-28 - ES
### Added
- .htaccess for the Resources/Private/ Folder
- Extended the documentation about categories
### Fixed
- Link to privacy page in xlf label of default language
- CSS for the floated views

## [1.3.2] - 2020-08-20 - ES
### Fixed
- Classes, Configuration and Resources folder were empty in last TER release

## [1.3.1] - 2020-08-20 - ES
### Added
- README.md
### Fixed
- typo in constants.ts
- replace notation in composer.json
- Classes, Configuration and Resources folder were empty in last TER release

## [1.3.0] - 2020-07-15 - ES
### Added
- Setting - storageMethod (Default: cookie, alternative: localStorage)
- Setting - hideDeclineAll (Default: false)
- Setting - hideLearnMore (Default: false)
### Changed
- Changed Vendor in namespace from 'WE' to 'Websedit' for better compatibility with Composer and Packagist
- Update the klaro library from 0.2.21 to 0.4.28
- Reorder and grouped TypoScript constants in Constants-Editor for better usability.
### Fixed
- Output of sys_category as purpose of an service.

## [1.2.1] - 2020-05-15 - ES
### Fixed
- URI generation for privacy and poweredBy Links if external URIs are used.

## [1.2.0] - 2020-04-23 - ES
### Added
- TYPO3 10 LTS compatibility
### Fixed
- Corrected if condition for iteration in partial "App.html"

## [1.1.1] - 2020-01-23 - ES
### Fixed
- If 'required' is set for a service, overwrite 'preselected' automatically with true

## [1.1.0] - 2020-01-23 - ES
### Added
- TYPO3 7 LTS compatibility
### Changed
- Update the klaro library from 0.2.14 to 0.2.21
- Set correct category in ext_emconf.php
- Replaced h3 with a span in cookie list (for better SEO)
### Fixed
- Typo in constants.ts and setup.ts
- CSS optimizations for the center--floated view

## [1.0.2] - 2020-01-28 - ES
### Changed
- Update locallang.xlf files

## [1.0.1] - 2020-01-23 - ES
### Changed
- Update the klaro library from initial 0.2.9 to 0.2.14